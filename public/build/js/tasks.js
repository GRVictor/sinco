!function(){function e(e,t,n){const o=document.querySelector(".alert");o&&o.remove();const a=document.createElement("DIV");a.classList.add("alert",t),a.textContent=e,n.parentElement.insertBefore(a,n.nextElementSibling),setTimeout((()=>{a.remove()}),3e3)}document.querySelector("#add-task").addEventListener("click",(function(){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML='\n            <form class="form new-task">\n                <legend>Agregar una tarea</legend>\n                <div class="field">\n                    <label for="task">Nombre de la tarea</label>\n                    <input type="text" id="task" name="task" placeholder="Ingresa el nombre de la tarea"/>\n                </div>\n\n                <div class="options">\n                    <input type="submit" class="submit-new-task" value="Aceptar"/>\n                    <button type="button" class="close-modal">Cancelar</button>\n                </div>\n\n            </form>\n            ',setTimeout((()=>{document.querySelector(".form").classList.add("animate")}),0),t.addEventListener("click",(n=>{if(n.preventDefault(),n.target.classList.contains("close-modal")){document.querySelector(".form").classList.add("close"),setTimeout((()=>{t.remove()}),500)}n.target.classList.contains("submit-new-task")&&function(){const t=document.querySelector("#task").value.trim();if(console.log(t),""===t)return void e("El nombre de la tarea es obligatorio","error",document.querySelector(".form legend"));!async function(t){const n=new FormData;n.append("name",t),n.append("projectId",Object.fromEntries(new URLSearchParams(window.location.search)).url);try{const t="http://localhost:3000/api/tasks",o=await fetch(t,{method:"POST",body:n}),a=await o.json();if(console.log(a),e(a.message,a.type,document.querySelector(".form legend")),"success"===a.type){const e=document.querySelector(".modal");setTimeout((()=>{e.remove()}),2500)}}catch(e){console.log(e)}}(t)}()})),document.querySelector(".dashboard").appendChild(t)}))}();